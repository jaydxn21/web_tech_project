<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="class_registration.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>

    <title>Class Registration</title>
  </head>
  <body>
    <div class="background">
      <nav
        class="navbar navbar-expand-md justify-content-center nav-links"
        style="background-color: rgba(240, 248, 255, 0)"
      >
        <div class="d-flex w-50 order-0">
          <a class="logo navbar-brand d-flex w-50 mr-auto" href="index.html">
            <img src="images/SVG logo/Energ-X Gym logo.svg" class="logo_img" />
            <span class="logo_text">ENERG-X GYM</span>
          </a>
          <button
            class="navbar-toggler"
            type="button"
            data-toggle="collapse"
            data-target="#collapsingNavbar"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
        <div
          class="navbar-collapse collapse justify-content-center w-100 order-2"
          id="collapsingNavbar"
        >
          <ul class="navbar-nav w-100 justify-content-center">
            <li class="nav-item active">
              <a class="nav-link" href="index.html">HOME</a>
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="navbardrop"
                data-toggle="dropdown"
              >
                SERVICES
              </a>
              <div class="dropdown-menu dropdown-content">
                <a class="dropdown-item" href="class_schedule.html">Classes</a>
                <a class="dropdown-item" href="trainers.html">Trainers</a>
                <a class="dropdown-item" href="facilities.html">Facilities</a>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="about_us.html">ABOUT US</a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="https://maps.app.goo.gl/MyQyTNxDPhHDa5bM6"
                target="_blank"
                >LOCATION</a
              >
            </li>
          </ul>
          <div class="nav navbar-nav ml-auto w-100 justify-content-end">
            <a href="login.html "
              ><button class="login">LOGIN/SIGNUP</button></a
            >
          </div>
        </div>
      </nav>
    </div>

    <!---CLASS REGISTRATION FORM-->
    <div class="container-fluid d-flex justify-content-center">
      <div class="form-box">
        <h1 id="title">Registration</h1>
        <form id="registrationForm">
          <div class="input-group">
            <div class="input-field" id="firstNameField">
              <input type="text" placeholder="First Name" required />
            </div>
            <div class="input-field">
              <input type="text" placeholder="Last Name" required />
            </div>
            <div class="input-field">
              <input type="text" placeholder="Email" required />
            </div>
            <div class="input-field">
              <input
                type="text"
                placeholder="Phone Number"
                pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"
                title="Phone number should be in the format xxx-xxx-xxxx"
                required
              />
            </div>
            <div class="input-field">
              <input
                type="text"
                id="birthday"
                placeholder="Birthday (YYYY-MM-DD)"
                title="Please match the required format"
                required
              />
            </div>
            <div class="input-field">
              <select required>
                <option value="" disabled selected>Gender</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
              </select>
            </div>
            <div class="choose-class">
              <select required>
                <option value="" disabled selected>Select a class</option>
                <option value="option1">Crossfit</option>
                <option value="option2">Cardio</option>
                <option value="option3">Pilates</option>
                <option value="option4">Spin Class</option>
                <option value="option5">Bunjee Fitness</option>
                <option value="option6">HIIT</option>
                <option value="option7">Zumba</option>
                <option value="option8">Mind-Body</option>
              </select>
            </div>
          </div>
          <div class="btn-button">
            <input type="SUBMIT" value="SUBMIT" />
          </div>
        </form>
      </div>
    </div>
  </body>
  <footer>
    <div class="footer-content">
      <p>
        Join us at Energ-X Gym and discover the power of fitness to transform
        not only your body, but your mind and spirit as well.
      </p>
      <ul class="socials">
        <li>
          <a href="https://www.facebook.com/"><i class="fa fa-facebook"></i></a>
        </li>
        <li>
          <a href="https://www.twitter.com"><i class="fa fa-twitter"></i></a>
        </li>
        <li>
          <a href="https://www.youtube.com"><i class="fa fa-youtube"></i></a>
        </li>
      </ul>
    </div>
    <div class="footer-bottom d-flex justify-content-between">
      <p>copyright &copy; <a href="#">ENERG-X</a></p>
      <div class="vd_box">
        <strong>IP:</strong>
        <div id="vd_ip"><div class="vd_loader"></div></div>
      </div>
      <div class="footer-menu">
        <ul class="f-menu">
          <li><a href="index.html">Home</a></li>
          <li><a href="about_us.html">About</a></li>
        </ul>
      </div>
    </div>
  </footer>
  <script>
    const ip = getIP();

    async function getIP() {
      const element_ip = document.getElementById("vd_ip") || new HTMLElement();
      const promise = await fetch("https://ipinfo.io/json");
      const data = await promise.json();
      element_ip.innerHTML = data.ip + " | " + data.city + " | " + data.country;
      return data;
    }

    document
      .getElementById("registrationForm")
      .addEventListener("submit", function (event) {
        event.preventDefault();
        var form = document.getElementById("registrationForm");
        var isValid = form.checkValidity();

        if (!isValid) {
          event.preventDefault();

          alert("Please fill out all required fields.");
        } else {
          var birthdayInput = document.getElementById("birthday").value;
          if (!isValidBirthdayFormat(birthdayInput)) {
            event.preventDefault();
            alert("Please enter a valid birthday in the format YYYY-MM-DD.");
          } else {
            alert("Successfully submitted!");

            setTimeout(function () {
              console.log("Redirecting...");
              window.location.href = "index.html";
            }, 1000);
          }
        }
      });

    function isValidBirthdayFormat(birthday) {
      var pattern = /^\d{4}-\d{2}-\d{2}$/;
      return pattern.test(birthday);
    }
  </script>
</html>
